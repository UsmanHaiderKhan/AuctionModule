@using AuctionModule.Models
@model AuctionModule.Models.Auction
@{
    ViewBag.Title = "FindingBy";
    var auction = new Auction();
}
<div class="auction">
    <h3>@Model.Title</h3>
    <div class="detail">
        <p>Starting Time:@auction.StartTime.ToString("g")</p>
        <p>End Time:@auction.EndTime.ToString("g")</p>
        <p>Start Price:@auction.StartPrice.ToString("C")</p>
        <p>
            Current Price:
            @if (auction.CurrentPrice == null)
            {
                @:[No Bid]
            }
            else
            {
                <span>@auction.CurrentPrice.Value.ToString("C")</span>
                <span>[@auction.Bidcount bids]</span>
            }
        </p>
        @if (auction.ImageUrl != null)
        {
            <img src="@Url.Content(auction.ImageUrl)" alt="@auction.Title" />
        }
        <div class="description">
            @auction.Description
        </div>
    </div>
</div>
<p>
    @using (Html.BeginForm("Bid", "Auctions", new { }))
    {
        var lowestBid = auction.CurrentPrice.GetValueOrDefault(auction.StartPrice) + 1;
        <span>
            Bid:$  @Html.TextBox("amount", lowestBid)
            @Html.ValidationMessage("amount")
        </span>
        @Html.Hidden("auctionId", auction.Id)
        <input type="submit" value="Bid" class="post-bid" />

    }
</p>
